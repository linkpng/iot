$ sudo apt-get update 

$ sudo apt-get upgrade 

2.Install hostapd and bridge-utils

$ sudo apt-get install hostapd

$ sudo apt-get install bridge-utils 

3.Edit file /etc/hostapd/hostapd.conf and add following lines to it 
 
 $ sudo nano /etc/hostapd/hostapd.conf

#Bridge mode 
bridge=br0

#Networking interface
Interface=wlan0

# WiFi configuration
ssid=msdguruku
channel=1
hw_mode=g
country_code=IN
ieee80211n=1
ieee80211d=1
wmm_enabled=1

# WiFi security
auth_algs=1
wpa=2
wpa_key_mgmt=WPA-PSK
rsn_pairwise=CCMP
wpa_passphrase=gurukull23

   	
4.Edit file /etc/network/interfaces and following lines to it 
 
$sudo nano /etc/network/interfaces

# Include files from  /etc/network/interfaces.d:
#source-directory /etc/network/interfaces.d

auto lo
Iface lo inet loopback

#Ethernet
auto eth0
allow-hotplug eth0
Iface eht0 inet  manual

#Wifi
Auto wlan0
Allow-hotplug wlan0
Iface wlan0 inet manual
Wireless-power off

#Bridge
auto br0
Iface br0 inet dhcp
bridge_ports eht0 wlan0
bridge_fd 0
bridge_stp off

This will result in the Pi using DHCP which means it can be used in any network 


5.Finally ,edit last file to enable hostapd to run upon boot

$ sudo nano /etc/default/hostapd


# file can be found at /usr/share/doc/hostapd/example/hostapd.conf.gz
#
RUN_DAEMON=yes
DAEMON_CONF=”/etc/hostapd/hostapd.conf”

6.To effect changes made to the Raspberry pi , reboot the system 

$ sudo reboot
